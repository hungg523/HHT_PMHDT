<!DOCTYPE html>
<html lang="en">

<head>
  <title>Nhà thuốc - Trang chủ</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap&subset=vietnamese">
  <link rel="icon" href="/assets/images/logo.png" type="image/x-icon">
  <link rel="stylesheet" href="/assets/fonts/icomoon/style.css">
  <link rel="stylesheet" href="/assets/css/bootstrap.min.css">
  <link rel="stylesheet" href="/assets/css/magnific-popup.css">
  <link rel="stylesheet" href="/assets/css/jquery-ui.css">
  <link rel="stylesheet" href="/assets/css/owl.carousel.min.css">
  <link rel="stylesheet" href="/assets/css/owl.theme.default.min.css">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">

  <link rel="stylesheet" href="/assets/css/aos.css">
  <link rel="stylesheet" href="/assets/css/popup.css">
  <link rel="stylesheet" href="/assets/css/style.css">

</head>

<body>
  <!-- Navbar -->
  <div class="site-wrap">
    <div class="site-navbar py-2">

      <div class="search-wrap" id="searchSection" style="display: none;">
        <div class="container">
          <a href="#" class="search-close js-search-close" onclick="toggleSearch(false)">
            <span class="icon-close2"></span>
          </a>
          <form onsubmit="searchProduct(event)">
            <input type="text" class="form-control" id="searchInput" placeholder="Nhập tên sản phẩm...">
          </form>
        </div>
      </div>


      <div class="container">
        <div class="d-flex align-items-center justify-content-between">
          <div class="logo">
            <div class="site-logo">
              <a href="/index.html" class="js-logo-clone">HHT <span style="color: #5eba24;">Pharmacy</span></a>
            </div>
          </div>

          <div class="main-nav d-none d-lg-block">
            <nav class="site-navigation text-right text-md-center" role="navigation">
              <ul class="site-menu js-clone-nav d-none d-lg-block">
                <li class="active"><a href="index.html"><strong>Trang chủ</strong></a></li>
                <li class="has-children">
                  <a href="#"><strong>Danh mục</strong></a>
                  <ul class="dropdown" id="categoryList">
                    <!-- Danh mục hiển thị từ API -->
                  </ul>
                </li>
                <li><a href="/pages/shop.html"><strong>Sản phẩm</strong></a></li>
                <li><a href="/pages/about.html"><strong>Về chúng tôi</strong></a></li>
                <li><a href="/pages/contact.html"><strong>Liên hệ</strong></a></li>
              </ul>
            </nav>
          </div>
          <a href="#" class="icons-btn d-inline-block js-search-open" onclick="toggleSearch(true)"><span
              class="icon-search"></span></a>
          <div class="icons">
            <!-- Link mở popup Đăng nhập và Đăng ký -->
            <div class="icons" id="accountSection">
              <!-- Nội dung sẽ được JavaScript cập nhật -->
              <a href="cart.html" class="icons-btn d-inline-block bag">
                <span class="icon-shopping-bag"></span>
                <span class="number">2</span>
              </a>
            </div>
          </div>

        </div>
      </div>
    </div>
  </div>

  <!-- Banner -->
  <div class="site-blocks-cover" style="position: relative; height: 70vh; overflow: hidden;">
    <video autoplay muted loop playsinline
      style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; object-fit: cover;">
      <source src="/assets/video/videobg.mp4" type="video/mp4">
      Trình duyệt của bạn không hỗ trợ video.
    </video>
    <div class="container" style="position: relative; z-index: 1;">
      <div class="row">
        <div class="col-lg-7 mx-auto order-lg-2 align-self-center">
          <div class="site-block-cover-content text-center" style="color: #fff;">
            <h2 class="sub-title" style="font-size: 1.5rem;">Thuốc hiệu quả, thuốc mỗi ngày</h2>
            <h1 style="font-size: 2.5rem;">Welcome To HHT <span style="color: #5eba24;">Pharmacy</span></h1>
            <p>
              <a href="/pages/shop.html" class="btn btn-primary" style="padding: 10px 20px;">Mua ngay</a>
            </p>
          </div>
        </div>
      </div>
    </div>
    <div
      style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0, 0, 0, 0.4); z-index: 0;">
    </div>
  </div>


  <!-- Details -->
  <div class="site-section">
    <div class="container">
      <div class="row align-items-stretch section-overlap">
        <div class="col-md-6 col-lg-4 mb-4 mb-lg-0">
          <div class="banner-wrap bg-primary h-100">
            <a href="#" class="h-100">
              <h5>Miễn phí <br> vận chuyển</h5>
              <p>
                Chương trình miễn phí vận chuyển vẫn đang diễn ra sôi nổi!
                <strong>HHT <span style="color: #5eba24;">Pharmacy</span> không thu phí vận chuyển cho đơn hàng đầu
                  tiên.</strong>
              </p>
            </a>
          </div>
        </div>
        <div class="col-md-6 col-lg-4 mb-4 mb-lg-0">
          <div class="banner-wrap h-100">
            <a href="#" class="h-100">
              <h5>Mùa <br> Giảm giá <span style="color: rgb(255, 196, 0);">50%</span></h5>
              <p>
                Giảm giá cực sốc, ưu đãi cực hời!
                <strong>Chương trình giảm giá diễn ra liên tục dành cho khách hàng thân thiết.</strong>
              </p>
            </a>
          </div>
        </div>
        <div class="col-md-6 col-lg-4 mb-4 mb-lg-0">
          <div class="banner-wrap bg-warning h-100">
            <a href="#" class="h-100">
              <h5>Thanh toán <br> tiện lợi</h5>
              <p>
                Dễ dàng thanh toán với mọi hình thức.
              </p>
            </a>
          </div>
        </div>

      </div>
    </div>
  </div>

  <!-- Category Bar -->
  <div class="category-bar">
    <div class="container">
      <div class="row text-center" id="categories-row">
        <!-- Danh mục sẽ được chèn từ JavaScript -->
      </div>
    </div>
  </div>

  <hr>
  <!-- Popular Products -->
  <div class="site-section popular-products">
    <div class="container">
      <div class="row">
        <div class="container my-4">
          <div class="row">
            <div class="col-12 text-center">
              <h2 class="text-uppercase text-dark">Sản phẩm phổ biến</h2>
              <p class="text-muted">Khám phá những sản phẩm được yêu thích nhất hiện nay</p>
            </div>
          </div>
        </div>

      </div>

      <div class="row" id="popularProducts">
        <!-- Sản phẩm sẽ được chèn thông qua API -->
      </div>

      <div class="row mt-5">
        <div class="col-12 text-center">
          <a href="/pages/shop.html" class="btn btn-primary px-4 py-3">Xem tất cả</a>
        </div>
      </div>
    </div>
  </div>

  <hr>

  <!-- New Products -->
  <div class="site-section">
    <div class="container">
      <div class="row">
        <div class="title-section text-center col-12">
          <h2 class="text-uppercase text-dark">Sản phẩm mới</h2>
        </div>
      </div>

      <div class="row">
        <div class="col-md-12 block-3 products-wrap">
          <div class="row" id="newProducts">
            <!-- Sản phẩm mới sẽ được thêm ở đây -->
          </div>
        </div>
      </div>

    </div>
  </div>

  <!-- Feedback -->
  <div class="site-section">
    <div class="container">
      <div class="row">
        <div class="title-section text-center col-12">
          <h2 class="text-uppercase">Đánh giá từ khách hàng</h2>
        </div>
      </div>
      <div class="row">
        <div class="col-md-12 block-3 products-wrap">
          <div class="nonloop-block-3 no-direction owl-carousel">

            <div class="testimony">
              <blockquote>
                <img src="/assets/images/feedback1.png" alt="Image" class="img-fluid w-25 mb-4 rounded-circle">
                <p>&ldquo;Sau khi dùng thuốc trong vòng một tuần, tôi cảm nhận được sự cải thiện rõ rệt. Không còn cảm
                  giác khó chịu và tình trạng sức khỏe được cải thiện đáng kể. Rất hài lòng về sản phẩm!&rdquo;</p>
              </blockquote>

              <p>&mdash; Anh Dương Trung H</p>
            </div>

            <div class="testimony">
              <blockquote>
                <img src="/assets/images/feedback2.png" alt="Image" class="img-fluid w-25 mb-4 rounded-circle">
                <p>&ldquo;Thuốc có vị dễ chịu, không đắng và không gây khó chịu khi uống. Dùng suốt một tháng nhưng tôi
                  không gặp bất kỳ tác dụng phụ nào. Sẽ tiếp tục sử dụng.
                  <br>&rdquo;
                </p>
              </blockquote>

              <p>&mdash; Anh Trần Quốc N</p>
            </div>

            <div class="testimony">
              <blockquote>
                <img src="/assets/images/feedback3.png" alt="Image" class="img-fluid w-25 mb-4 rounded-circle">
                <p>&ldquo;So với các sản phẩm tương tự, thuốc này có giá thành hợp lý mà hiệu quả rất tốt. Sử dụng đúng
                  liều lượng thì thấy hiệu quả rõ ràng. Rất phù hợp với người có thu nhập trung bình.&rdquo;</p>
              </blockquote>

              <p>&mdash; Anh Nghị Tuấn L</p>
            </div>

            <div class="testimony">
              <blockquote>
                <img src="/assets/images/feedback4.png" alt="Image" class="img-fluid w-25 mb-4 rounded-circle">
                <p>&ldquo;Thuốc được đóng gói tiện lợi, dễ mang theo bên mình. Hiệu quả đúng như mong đợi, cảm giác sức
                  khỏe cải thiện từng ngày. Khuyến nghị cho những ai đang tìm giải pháp tương tự.&rdquo;</p>
              </blockquote>

              <p>&mdash; Anh Phan Minh T</p>
            </div>

          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- About Shop -->
  <div class="site-section bg-secondary bg-image" style="background-image: url('/assets/images/bg_2.jpg');">
    <div class="container">
      <div class="row align-items-stretch">
        <div class="col-lg-6 mb-5 mb-lg-0">
          <a href="#" class="banner-1 h-100 d-flex" style="background-image: url('/assets/images/bg_1.jpg');">
            <div class="banner-1-inner align-self-center">
              <h2>Pharma Products</h2>
              <p>HHT Pharmacy cung cấp các sản phẩm dược phẩm chất lượng cao, đa dạng từ thuốc điều
                trị bệnh, thực phẩm chức năng đến các sản phẩm chăm sóc sức khỏe. Với cam kết về an
                toàn và hiệu quả.
              </p>
            </div>
          </a>
        </div>
        <div class="col-lg-6 mb-5 mb-lg-0">
          <a href="#" class="banner-1 h-100 d-flex" style="background-image: url('/assets/images/bg_2.jpg');">
            <div class="banner-1-inner ml-auto  align-self-center">
              <h2>Đánh giá bởi chuyên gia</h2>
              <p>hương hiệu được các chuyên gia y tế đánh giá cao về độ an toàn và hiệu quả trong việc
                hỗ trợ điều trị và chăm sóc sức khỏe..
              </p>
            </div>
          </a>
        </div>
      </div>
    </div>
  </div>

  <!-- Footer -->
  <footer class="site-footer">
    <div class="container">
      <div class="row">
        <div class="col-md-6 col-lg-3 mb-4 mb-lg-0">

          <div class="block-7">
            <h3 class="footer-heading mb-4">Thông tin</h3>
            <p>"Pharma cam kết mang đến các sản phẩm chăm sóc sức khỏe chất lượng, uy tín từ các
              thương hiệu hàng đầu. Chúng tôi cung cấp đa dạng các loại thuốc, thực phẩm chức năng, và sản phẩm hỗ trợ
              sức khỏe với đội ngũ tư vấn tận tình, chuyên nghiệp. Mục tiêu của chúng tôi là luôn đồng hành cùng sức
              khỏe của bạn và gia đình."
            </p>
          </div>

        </div>
        <div class="col-lg-3 mx-auto mb-5 mb-lg-0">
          <h3 class="footer-heading mb-4">Danh mục</h3>
          <ul class="list-unstyled" id="categoryListFooter">
            <!-- Danh mục từ API -->
          </ul>
        </div>

        <div class="col-md-6 col-lg-3">
          <div class="block-5 mb-5">
            <h3 class="footer-heading mb-4">Liên hệ</h3>
            <ul class="list-unstyled">
              <li class="address">Đại học Trà Vinh</li>
              <li class="phone"><a href="tel://379932119">+84379932119</a></li>
              <li class="email">Pharma@st.tvu.edu.vn</li>
            </ul>
          </div>


        </div>
      </div>
      <div class="row pt-5 mt-5 text-center">
        <div class="col-md-12">
          <p>
            Copyright &copy;
            <script>document.write(new Date().getFullYear());</script> All rights reserved | This website is made
            with by a group of students <a href="https://www.tvu.edu.vn/" target="_blank" class="text-primary">TVU</a>
          </p>
        </div>

      </div>
    </div>
  </footer>


  <!-- Popup Đăng nhập -->
  <div class="popup-overlay" id="loginPopup">
    <div class="popup-box">
      <span class="close-btn" onclick="closePopup('loginPopup')">&times;</span>
      <h3 style="text-align: center;">ĐĂNG NHẬP</h3>
      <hr>
      <form id="loginForm" onsubmit="loginUser(event)">
        <div class="form-group">
          <label for="email">Tên đăng nhập</label>
          <input type="text" id="email" name="email" class="form-control" required>
        </div>
        <div class="form-group mt-3">
          <label for="password">Mật khẩu</label>
          <input type="password" id="password" name="password" class="form-control" required>
        </div>
        <button type="submit" class="btn btn-primary btn-block mt-4">Đăng nhập</button>
      </form>
      <p class="mt-3">
        Chưa có tài khoản? <a href="#" onclick="switchPopup('loginPopup', 'registerPopup')">Đăng ký</a><br>
        <a href="#" class="text-primary" onclick="switchPopup('loginPopup', 'forgotPasswordPopup')">Quên mật khẩu?</a>
      </p>
    </div>
  </div>


  <!-- Popup Đăng ký -->
  <div class="popup-overlay" id="registerPopup">
    <div class="popup-box">
      <span class="close-btn" onclick="closePopup('registerPopup')">&times;</span>
      <h3 style="text-align: center;">ĐĂNG KÝ</h3>
      <hr>

      <!-- Bước 1: Nhập thông tin đăng ký -->
      <form id="registerForm" class="form-step-1">
        <div class="form-group mt-3">
          <label for="registerEmail">Email</label>
          <input type="email" id="registerEmail" name="registerEmail" class="form-control" required>
        </div>
        <div class="form-group mt-3">
          <label for="regPassword">Mật khẩu</label>
          <input type="password" id="regPassword" name="regPassword" class="form-control" required>
        </div>
        <div class="form-group mt-3">
          <label for="confirmPassword">Xác nhận mật khẩu</label>
          <input type="password" id="confirmPassword" name="confirmPassword" class="form-control" required>
        </div>
        <button type="button" class="btn btn-primary btn-block mt-4" onclick="registerUser()">Đăng ký</button>
      </form>

      <!-- Bước 2: Nhập OTP để xác thực -->
      <form id="otpForm" class="form-step-2" style="display: none;">
        <div class="form-group mt-3">
          <label for="otp">Mã OTP</label>
          <input type="text" id="otp" name="otp" class="form-control" placeholder="Nhập mã OTP" required>
        </div>
        <div class="mt-3">
          <button type="button" id="resendOtpButton" class="btn btn-primary btn-block mt-4" onclick="resendOtp()"
            disabled>
            <span id="countdown">75</span>
          </button>
        </div>
        <button type="button" class="btn btn-primary btn-block mt-4" onclick="verifyOtp()">Xác thực OTP</button>
      </form>

      <p class="mt-3">Đã có tài khoản? <a href="#" onclick="switchPopup('registerPopup', 'loginPopup')">Đăng nhập</a>
      </p>
    </div>
  </div>

  <!-- Popup Quên mật khẩu -->
  <div class="popup-overlay" id="forgotPasswordPopup">
    <div class="popup-box">
      <span class="close-btn" onclick="closePopup('forgotPasswordPopup')">&times;</span>
      <h3 style="text-align: center;">QUÊN MẬT KHẨU</h3>
      <hr>

      <!-- Bước 1: Nhập Email -->
      <form id="forgotPasswordForm" class="form-step-1">
        <div class="form-group mt-3">
          <label for="forgotEmail">Email</label>
          <input type="email" id="forgotEmail" name="forgotEmail" class="form-control" placeholder="Nhập email của bạn"
            required>
        </div>
        <button type="button" class="btn btn-primary btn-block mt-4" onclick="sendForgotPasswordOtp()">Gửi OTP</button>
      </form>

      <!-- Bước 2: Nhập OTP và Đặt lại mật khẩu -->
      <form id="resetPasswordForm" class="form-step-2" style="display: none;">
        <div class="form-group mt-3">
          <label for="resetOtp">Mã OTP</label>
          <input type="text" id="resetOtp" name="resetOtp" class="form-control" placeholder="Nhập mã OTP" required>
        </div>
        <div class="form-group mt-3">
          <label for="newPassword">Mật khẩu mới</label>
          <input type="password" id="newPassword" name="newPassword" class="form-control" required>
        </div>
        <div class="form-group mt-3">
          <label for="confirmNewPassword">Xác nhận mật khẩu mới</label>
          <input type="password" id="confirmNewPassword" name="confirmNewPassword" class="form-control" required>
        </div>
        <button type="button" class="btn btn-primary btn-block mt-4" onclick="resetPassword()">Đặt lại mật khẩu</button>
      </form>
    </div>
  </div>

  <!-- Popup Notification -->
  <div class="modal fade" id="notificationModal" tabindex="-1" role="dialog" aria-labelledby="notificationTitle"
    aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="notificationTitle">Thông báo</h5>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body" id="notificationMessage">
          <!-- Thông báo sẽ được đặt ở đây -->
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-primary" data-dismiss="modal">Đóng</button>
        </div>
      </div>
    </div>
  </div>

  <div class="contact-button">
    <button id="chatButton">Bắt đầu trò chuyện</button>
  </div>

  <div id="chatWindow" style="display: none; border: 1px solid #ccc; padding: 10px;">
    <div id="messages" style="color: black; height: 200px; overflow-y: scroll; border: 1px solid #ddd; padding: 5px;">
    </div>
    <input type="text" id="messageInput" placeholder="Nhập tin nhắn" style="width: 80%;">
    <button id="sendMessageButton">Gửi</button>
  </div>


  <script src="https://cdnjs.cloudflare.com/ajax/libs/microsoft-signalr/6.0.2/signalr.min.js"></script>
  <script src="/assets/js/jquery-3.3.1.min.js"></script>
  <script src="/assets/js/jquery-ui.js"></script>
  <script src="/assets/js/popper.min.js"></script>
  <script src="/assets/js/bootstrap.min.js"></script>
  <script src="/assets/js/owl.carousel.min.js"></script>
  <script src="/assets/js/jquery.magnific-popup.min.js"></script>
  <script src="/assets/js/aos.js"></script>
  <script src="/assets/js/main.js"></script>
  <script src="/assets/js/nav.js"></script>
  <script src="/assets/js/footer.js"></script>
  <script src="/assets/js/login.js"></script>
  <script src="/assets/js/popup.js"></script>
  <script src="/assets/js/register.js"></script>
  <script src="/assets/js/404.js"></script>
  <script src="/assets/js/changepassword.js"></script>
  <script src="/assets/js/chat.js"></script>
  <script>

    //Popular Products
    async function fetchRandomProducts() {
      try {
        let allProducts = [];
        let currentPage = 1;
        const pageSize = 6;
        let totalPages;

        do {
          const response = await fetch(`https://localhost:1006/get-products?pageNumber=${currentPage}&pageSize=${pageSize}`);
          if (!response.ok) throw new Error(`HTTP error! status: ${response.status}`);

          const responseData = await response.json();
          totalPages = responseData.totalPages;

          allProducts = allProducts.concat(responseData.data);

          currentPage++;
        } while (currentPage <= totalPages);

        const selectedProductIds = new Set();
        const randomProducts = [];

        while (randomProducts.length < 6 && allProducts.length > 0) {
          const randomIndex = Math.floor(Math.random() * allProducts.length);
          const product = allProducts[randomIndex];

          if (!selectedProductIds.has(product.id)) {
            selectedProductIds.add(product.id);
            randomProducts.push(product);
          }

          allProducts.splice(randomIndex, 1);
        }

        const productContainer = document.getElementById('popularProducts');
        productContainer.innerHTML = '';

        randomProducts.forEach(product => {
          const regularPrice = new Intl.NumberFormat('vi-VN', { style: 'currency', currency: 'VND' }).format(product.regularPrice);
          const discountPrice = product.discountPrice ? new Intl.NumberFormat('vi-VN', { style: 'currency', currency: 'VND' }).format(product.discountPrice) : null;

          const productHtml = `
             <div class="col-sm-6 col-lg-4 text-center item mb-4 shadow-sm" style="padding: 10px; border-radius: 8px;">
                ${product.discountPrice && product.discountPrice > 0 ? '<span class="tag">Sale</span>' : ''}
                <a href="/pages/shop-single.html?id=${product.id}">
                    <img src="https://localhost:1005/${product.imagePath}" alt="${product.productName}" style="width: 270px; height: 370px;">
                </a>
                <h3 class="text-dark" style="color: black;">
                <a href="shop-single.html?id=${product.id}" style="color: black;">${product.productName}</a>
                </h3>
                <p class="brand" style="color: black;">
                    <strong>Brand:</strong> ${product.brand}
                </p>
                <p class="packaging" style="color: black;">
                    <strong>Packaging:</strong> ${product.packaging}
                </p>
                <p class="origin" style="color: black;">
                    <strong>Origin:</strong> ${product.origin}
                </p>
              
                <p class="price" style="color: black;">
                    ${product.discountPrice && product.discountPrice > 0
              ? `<del style="color: #aaa;">${regularPrice}</del> &mdash; <span style="color: #007bff;">${discountPrice}</span>`
              : `<span style="color: #007bff;">${regularPrice}</span>`}
                </p>
                
                <div class="d-flex justify-content-between align-items-center" style="color: black; font-size: 15px; gap: 5px;">
                <div>
                    <span style="color: gold;">&#9733;&#9733;&#9733;&#9733;&#9734;</span> (4.5/5)
                    <strong>Đã bán:</strong> ${product.amountSeller}
                </div>
                </div>
          `;
          productContainer.insertAdjacentHTML('beforeend', productHtml);
        });
      } catch (error) {
        console.error('Error fetching random products:', error);
      }
    }


    //New Products
    async function fetchNewProducts() {
      try {
        let allProducts = [];
        let currentPage = 1;
        const pageSize = 6;
        let totalPages;

        do {
          const response = await fetch(`https://localhost:1006/get-products?pageNumber=${currentPage}&pageSize=${pageSize}`);
          if (!response.ok) throw new Error(`HTTP error! status: ${response.status}`);

          const responseData = await response.json();
          totalPages = responseData.totalPages;

          allProducts = allProducts.concat(responseData.data);

          currentPage++;
        } while (currentPage <= totalPages);

        const recentProducts = allProducts
          .sort((a, b) => new Date(b.createdAt) - new Date(a.createdAt))
          .slice(0, 4);

        const productContainer = document.getElementById('newProducts');
        productContainer.innerHTML = '';

        recentProducts.forEach(product => {
          const regularPrice = new Intl.NumberFormat('vi-VN', { style: 'currency', currency: 'VND' }).format(product.regularPrice);
          const discountPrice = product.discountPrice ? new Intl.NumberFormat('vi-VN', { style: 'currency', currency: 'VND' }).format(product.discountPrice) : null;

          const productHtml = `
                <div class="col-sm-6 col-lg-4 text-center item mb-4 shadow-sm" style="padding: 10px; border-radius: 8px;">
                ${product.discountPrice && product.discountPrice > 0 ? '<span class="tag">Sale</span>' : ''}
                <a href="/pages/shop-single.html?id=${product.id}">
                    <img src="https://localhost:1005/${product.imagePath}" alt="${product.productName}" style="width: 270px; height: 370px;">
                </a>
                <h3 class="text-dark" style="color: black;">
                <a href="shop-single.html?id=${product.id}" style="color: black;">${product.productName}</a>
                </h3>
                <p class="brand" style="color: black;">
                    <strong>Brand:</strong> ${product.brand}
                </p>
                <p class="packaging" style="color: black;">
                    <strong>Packaging:</strong> ${product.packaging}
                </p>
                <p class="origin" style="color: black;">
                    <strong>Origin:</strong> ${product.origin}
                </p>
                <p class="price" style="color: black;">
                    ${product.discountPrice && product.discountPrice > 0
              ? `<del style="color: #aaa;">${regularPrice}</del> &mdash; <span style="color: #007bff;">${discountPrice}</span>`
              : `<span style="color: #007bff;">${regularPrice}</span>`}
                </p>
                
                <div class="d-flex justify-content-between align-items-center" style="color: black; font-size: 15px; gap: 5px;">
                <div>
                    <span style="color: gold;">&#9733;&#9733;&#9733;&#9733;&#9734;</span> (4.5/5)
                    <strong>Đã bán:</strong> ${product.amountSeller}
                </div>
                </div>
          `;
          productContainer.insertAdjacentHTML('beforeend', productHtml);
        });
      } catch (error) {
        console.error('Error fetching new products:', error);
      }
    }


    document.addEventListener('DOMContentLoaded', fetchNewProducts);
    document.addEventListener('DOMContentLoaded', fetchRandomProducts);


    // Gọi hàm fetchCategories khi tải trang
    fetchCategories();


  </script>
</body>

</html>